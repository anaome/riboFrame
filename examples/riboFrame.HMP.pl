
#!/usr/bin/perl
# (c) matteo.ramazzotti@unifi.it
# part of the riboFrame v1.0 package

if (!$ARGV[0] || $ARGV[0] eq 'h') {
	print " USAGE: riboFrame.HMP.pl [h|s|sample]\n\n";
	print "        h: help\n";
	print "        s: list smaples\n";
	print "   sample: (e.g. SRS011061)\n\n";
	exit;
}
&load_ids;

if($ARGV[0] eq 's') {
	%type = values %s;
	foreach $t (keys %type) {
		print "--- $t ---\n";
		@l = ();
		foreach $s (keys %s) {
			push(@l,$s) if ($s{$s} eq $t); 
		}
		print join " ",@l,"\n\n";
	}
	exit;
}

if($s{$ARGV[0]}) {
	print "\n Running the riboFrame pipeline on sample $ARGV[0]...\n\n";
	&load_script;
	$script =~ s/xxxxxxxxxx/$ARGV[0]/g;
	$script =~ s/yyyyyyyyyy/$s{$ARGV[0]}/;
	open(O,">$ARGV[0].riboFrame.sh");
	print O $script;
	close O;
	if (!$ARGV[1]) {
		system("bash $ARGV[0].riboFrame.sh");
	}
}

sub load_ids {
$s{'SRS011061'} = 'stool';
$s{'SRS011090'} = 'buccal_mucosa';
$s{'SRS011098'} = 'supragingival_plaque';
$s{'SRS011126'} = 'supragingival_plaque';
$s{'SRS011132'} = 'anterior_nares';
$s{'SRS011134'} = 'stool';
$s{'SRS011140'} = 'tongue_dorsum';
$s{'SRS011144'} = 'buccal_mucosa';
$s{'SRS011152'} = 'supragingival_plaque';
$s{'SRS011239'} = 'stool';
$s{'SRS011243'} = 'tongue_dorsum';
$s{'SRS011247'} = 'buccal_mucosa';
$s{'SRS011255'} = 'supragingival_plaque';
$s{'SRS011263'} = 'anterior_nares';
$s{'SRS011269'} = 'posterior_fornix';
$s{'SRS011271'} = 'stool';
$s{'SRS011302'} = 'stool';
$s{'SRS011306'} = 'tongue_dorsum';
$s{'SRS011310'} = 'buccal_mucosa';
$s{'SRS011343'} = 'supragingival_plaque';
$s{'SRS011355'} = 'posterior_fornix';
$s{'SRS011397'} = 'anterior_nares';
$s{'SRS011405'} = 'stool';
$s{'SRS011452'} = 'stool';
$s{'SRS011529'} = 'stool';
$s{'SRS011584'} = 'posterior_fornix';
$s{'SRS011586'} = 'stool';
$s{'SRS012273'} = 'stool';
$s{'SRS012279'} = 'tongue_dorsum';
$s{'SRS012281'} = 'buccal_mucosa';
$s{'SRS012285'} = 'supragingival_plaque';
$s{'SRS012291'} = 'anterior_nares';
$s{'SRS012294'} = 'posterior_fornix';
$s{'SRS012663'} = 'anterior_nares';
$s{'SRS012902'} = 'stool';
$s{'SRS013155'} = 'anterior_nares';
$s{'SRS013158'} = 'stool';
$s{'SRS013164'} = 'tongue_dorsum';
$s{'SRS013170'} = 'supragingival_plaque';
$s{'SRS013215'} = 'stool';
$s{'SRS013234'} = 'tongue_dorsum';
$s{'SRS013239'} = 'buccal_mucosa';
$s{'SRS013252'} = 'supragingival_plaque';
$s{'SRS013258'} = 'left_retroauricular_crease';
$s{'SRS013269'} = 'anterior_nares';
$s{'SRS013476'} = 'stool';
$s{'SRS013502'} = 'tongue_dorsum';
$s{'SRS013506'} = 'buccal_mucosa';
$s{'SRS013521'} = 'stool';
$s{'SRS013533'} = 'supragingival_plaque';
$s{'SRS013542'} = 'posterior_fornix';
$s{'SRS013637'} = 'anterior_nares';
$s{'SRS013687'} = 'stool';
$s{'SRS013705'} = 'tongue_dorsum';
$s{'SRS013711'} = 'buccal_mucosa';
$s{'SRS013723'} = 'supragingival_plaque';
$s{'SRS013800'} = 'stool';
$s{'SRS013818'} = 'tongue_dorsum';
$s{'SRS013825'} = 'buccal_mucosa';
$s{'SRS013836'} = 'supragingival_plaque';
$s{'SRS013876'} = 'anterior_nares';
$s{'SRS013879'} = 'tongue_dorsum';
$s{'SRS013881'} = 'buccal_mucosa';
$s{'SRS013942'} = 'saliva';
$s{'SRS013945'} = 'buccal_mucosa';
$s{'SRS013946'} = 'attached_keratinized_gingiva';
$s{'SRS013947'} = 'palatine_tonsils';
$s{'SRS013948'} = 'throat';
$s{'SRS013949'} = 'supragingival_plaque';
$s{'SRS013950'} = 'subgingival_plaque';
$s{'SRS013951'} = 'stool';
$s{'SRS013956'} = 'anterior_nares';
$s{'SRS014107'} = 'subgingival_plaque';
$s{'SRS014124'} = 'tongue_dorsum';
$s{'SRS014126'} = 'buccal_mucosa';
$s{'SRS014235'} = 'stool';
$s{'SRS014271'} = 'tongue_dorsum';
$s{'SRS014287'} = 'stool';
$s{'SRS014313'} = 'stool';
$s{'SRS014459'} = 'stool';
$s{'SRS014464'} = 'anterior_nares';
$s{'SRS014465'} = 'vaginal_introitus';
$s{'SRS014466'} = 'mid_vagina';
$s{'SRS014470'} = 'tongue_dorsum';
$s{'SRS014472'} = 'buccal_mucosa';
$s{'SRS014473'} = 'attached_keratinized_gingiva';
$s{'SRS014474'} = 'palatine_tonsils';
$s{'SRS014475'} = 'throat';
$s{'SRS014476'} = 'supragingival_plaque';
$s{'SRS014477'} = 'subgingival_plaque';
$s{'SRS014494'} = 'posterior_fornix';
$s{'SRS014573'} = 'tongue_dorsum';
$s{'SRS014575'} = 'buccal_mucosa';
$s{'SRS014578'} = 'supragingival_plaque';
$s{'SRS014613'} = 'stool';
$s{'SRS014629'} = 'posterior_fornix';
$s{'SRS014682'} = 'anterior_nares';
$s{'SRS014683'} = 'stool';
$s{'SRS014684'} = 'tongue_dorsum';
$s{'SRS014686'} = 'buccal_mucosa';
$s{'SRS014687'} = 'attached_keratinized_gingiva';
$s{'SRS014689'} = 'throat';
$s{'SRS014690'} = 'supragingival_plaque';
$s{'SRS014691'} = 'subgingival_plaque';
$s{'SRS014888'} = 'tongue_dorsum';
$s{'SRS014890'} = 'buccal_mucosa';
$s{'SRS014894'} = 'supragingival_plaque';
$s{'SRS014901'} = 'anterior_nares';
$s{'SRS014923'} = 'stool';
$s{'SRS014979'} = 'stool';
$s{'SRS015038'} = 'tongue_dorsum';
$s{'SRS015040'} = 'buccal_mucosa';
$s{'SRS015044'} = 'supragingival_plaque';
$s{'SRS015051'} = 'anterior_nares';
$s{'SRS015054'} = 'posterior_fornix';
$s{'SRS015055'} = 'saliva';
$s{'SRS015057'} = 'tongue_dorsum';
$s{'SRS015059'} = 'buccal_mucosa';
$s{'SRS015060'} = 'attached_keratinized_gingiva';
$s{'SRS015061'} = 'palatine_tonsils';
$s{'SRS015062'} = 'throat';
$s{'SRS015063'} = 'supragingival_plaque';
$s{'SRS015065'} = 'stool';
$s{'SRS015071'} = 'vaginal_introitus';
$s{'SRS015072'} = 'mid_vagina';
$s{'SRS015073'} = 'posterior_fornix';
$s{'SRS015133'} = 'stool';
$s{'SRS015154'} = 'buccal_mucosa';
$s{'SRS015158'} = 'supragingival_plaque';
$s{'SRS015168'} = 'posterior_fornix';
$s{'SRS015190'} = 'stool';
$s{'SRS015209'} = 'tongue_dorsum';
$s{'SRS015215'} = 'supragingival_plaque';
$s{'SRS015217'} = 'stool';
$s{'SRS015225'} = 'posterior_fornix';
$s{'SRS015264'} = 'stool';
$s{'SRS015269'} = 'anterior_nares';
$s{'SRS015272'} = 'tongue_dorsum';
$s{'SRS015274'} = 'buccal_mucosa';
$s{'SRS015278'} = 'supragingival_plaque';
$s{'SRS015369'} = 'stool';
$s{'SRS015374'} = 'buccal_mucosa';
$s{'SRS015378'} = 'supragingival_plaque';
$s{'SRS015381'} = 'right_retroauricular_crease';
$s{'SRS015395'} = 'tongue_dorsum';
$s{'SRS015425'} = 'posterior_fornix';
$s{'SRS015430'} = 'anterior_nares';
$s{'SRS015434'} = 'tongue_dorsum';
$s{'SRS015436'} = 'buccal_mucosa';
$s{'SRS015440'} = 'supragingival_plaque';
$s{'SRS015450'} = 'anterior_nares';
$s{'SRS015470'} = 'supragingival_plaque';
$s{'SRS015537'} = 'tongue_dorsum';
$s{'SRS015574'} = 'supragingival_plaque';
$s{'SRS015578'} = 'stool';
$s{'SRS015640'} = 'anterior_nares';
$s{'SRS015644'} = 'tongue_dorsum';
$s{'SRS015646'} = 'buccal_mucosa';
$s{'SRS015650'} = 'supragingival_plaque';
$s{'SRS015663'} = 'stool';
$s{'SRS015745'} = 'buccal_mucosa';
$s{'SRS015752'} = 'anterior_nares';
$s{'SRS015755'} = 'supragingival_plaque';
$s{'SRS015762'} = 'tongue_dorsum';
$s{'SRS015782'} = 'stool';
$s{'SRS015793'} = 'anterior_nares';
$s{'SRS015794'} = 'stool';
$s{'SRS015797'} = 'tongue_dorsum';
$s{'SRS015799'} = 'buccal_mucosa';
$s{'SRS015803'} = 'supragingival_plaque';
$s{'SRS015854'} = 'stool';
$s{'SRS015893'} = 'tongue_dorsum';
$s{'SRS015895'} = 'buccal_mucosa';
$s{'SRS015899'} = 'supragingival_plaque';
$s{'SRS015921'} = 'buccal_mucosa';
$s{'SRS015937'} = 'anterior_nares';
$s{'SRS015941'} = 'tongue_dorsum';
$s{'SRS015947'} = 'supragingival_plaque';
$s{'SRS015960'} = 'stool';
$s{'SRS015989'} = 'supragingival_plaque';
$s{'SRS015996'} = 'anterior_nares';
$s{'SRS016002'} = 'tongue_dorsum';
$s{'SRS016018'} = 'stool';
$s{'SRS016033'} = 'anterior_nares';
$s{'SRS016037'} = 'tongue_dorsum';
$s{'SRS016039'} = 'buccal_mucosa';
$s{'SRS016043'} = 'supragingival_plaque';
$s{'SRS016056'} = 'stool';
$s{'SRS016086'} = 'tongue_dorsum';
$s{'SRS016088'} = 'buccal_mucosa';
$s{'SRS016092'} = 'supragingival_plaque';
$s{'SRS016095'} = 'stool';
$s{'SRS016111'} = 'posterior_fornix';
$s{'SRS016188'} = 'anterior_nares';
$s{'SRS016191'} = 'posterior_fornix';
$s{'SRS016196'} = 'buccal_mucosa';
$s{'SRS016200'} = 'supragingival_plaque';
$s{'SRS016203'} = 'stool';
$s{'SRS016225'} = 'tongue_dorsum';
$s{'SRS016267'} = 'stool';
$s{'SRS016292'} = 'anterior_nares';
$s{'SRS016297'} = 'buccal_mucosa';
$s{'SRS016319'} = 'tongue_dorsum';
$s{'SRS016331'} = 'supragingival_plaque';
$s{'SRS016335'} = 'stool';
$s{'SRS016342'} = 'tongue_dorsum';
$s{'SRS016349'} = 'buccal_mucosa';
$s{'SRS016360'} = 'supragingival_plaque';
$s{'SRS016434'} = 'anterior_nares';
$s{'SRS016495'} = 'stool';
$s{'SRS016501'} = 'tongue_dorsum';
$s{'SRS016503'} = 'buccal_mucosa';
$s{'SRS016513'} = 'anterior_nares';
$s{'SRS016516'} = 'posterior_fornix';
$s{'SRS016529'} = 'tongue_dorsum';
$s{'SRS016533'} = 'buccal_mucosa';
$s{'SRS016553'} = 'anterior_nares';
$s{'SRS016559'} = 'posterior_fornix';
$s{'SRS016569'} = 'tongue_dorsum';
$s{'SRS016575'} = 'supragingival_plaque';
$s{'SRS016581'} = 'anterior_nares';
$s{'SRS016585'} = 'stool';
$s{'SRS016600'} = 'buccal_mucosa';
$s{'SRS016746'} = 'supragingival_plaque';
$s{'SRS016752'} = 'anterior_nares';
$s{'SRS016753'} = 'stool';
$s{'SRS016944'} = 'left_retroauricular_crease';
$s{'SRS016954'} = 'stool';
$s{'SRS016989'} = 'stool';
$s{'SRS017013'} = 'buccal_mucosa';
$s{'SRS017025'} = 'supragingival_plaque';
$s{'SRS017044'} = 'anterior_nares';
$s{'SRS017080'} = 'buccal_mucosa';
$s{'SRS017103'} = 'stool';
$s{'SRS017120'} = 'tongue_dorsum';
$s{'SRS017127'} = 'buccal_mucosa';
$s{'SRS017139'} = 'supragingival_plaque';
$s{'SRS017156'} = 'anterior_nares';
$s{'SRS017191'} = 'stool';
$s{'SRS017209'} = 'tongue_dorsum';
$s{'SRS017215'} = 'buccal_mucosa';
$s{'SRS017227'} = 'supragingival_plaque';
$s{'SRS017244'} = 'anterior_nares';
$s{'SRS017247'} = 'stool';
$s{'SRS017304'} = 'supragingival_plaque';
$s{'SRS017307'} = 'stool';
$s{'SRS017433'} = 'stool';
$s{'SRS017439'} = 'tongue_dorsum';
$s{'SRS017441'} = 'buccal_mucosa';
$s{'SRS017445'} = 'supragingival_plaque';
$s{'SRS017451'} = 'anterior_nares';
$s{'SRS017497'} = 'posterior_fornix';
$s{'SRS017511'} = 'supragingival_plaque';
$s{'SRS017520'} = 'posterior_fornix';
$s{'SRS017521'} = 'stool';
$s{'SRS017533'} = 'tongue_dorsum';
$s{'SRS017537'} = 'buccal_mucosa';
$s{'SRS017687'} = 'buccal_mucosa';
$s{'SRS017691'} = 'supragingival_plaque';
$s{'SRS017697'} = 'anterior_nares';
$s{'SRS017700'} = 'posterior_fornix';
$s{'SRS017701'} = 'stool';
$s{'SRS017713'} = 'tongue_dorsum';
$s{'SRS017808'} = 'tongue_dorsum';
$s{'SRS017810'} = 'buccal_mucosa';
$s{'SRS017814'} = 'supragingival_plaque';
$s{'SRS017820'} = 'anterior_nares';
$s{'SRS017821'} = 'stool';
$s{'SRS017849'} = 'left_retroauricular_crease';
$s{'SRS017851'} = 'right_retroauricular_crease';
$s{'SRS018133'} = 'stool';
$s{'SRS018145'} = 'tongue_dorsum';
$s{'SRS018149'} = 'buccal_mucosa';
$s{'SRS018157'} = 'supragingival_plaque';
$s{'SRS018300'} = 'tongue_dorsum';
$s{'SRS018312'} = 'anterior_nares';
$s{'SRS018329'} = 'buccal_mucosa';
$s{'SRS018337'} = 'supragingival_plaque';
$s{'SRS018351'} = 'stool';
$s{'SRS018357'} = 'tongue_dorsum';
$s{'SRS018359'} = 'buccal_mucosa';
$s{'SRS018369'} = 'anterior_nares';
$s{'SRS018394'} = 'supragingival_plaque';
$s{'SRS018427'} = 'stool';
$s{'SRS018439'} = 'tongue_dorsum';
$s{'SRS018463'} = 'anterior_nares';
$s{'SRS018573'} = 'supragingival_plaque';
$s{'SRS018575'} = 'stool';
$s{'SRS018585'} = 'anterior_nares';
$s{'SRS018591'} = 'tongue_dorsum';
$s{'SRS018656'} = 'stool';
$s{'SRS018661'} = 'buccal_mucosa';
$s{'SRS018665'} = 'supragingival_plaque';
$s{'SRS018671'} = 'anterior_nares';
$s{'SRS018739'} = 'tongue_dorsum';
$s{'SRS018769'} = 'posterior_fornix';
$s{'SRS018778'} = 'supragingival_plaque';
$s{'SRS018784'} = 'anterior_nares';
$s{'SRS018791'} = 'tongue_dorsum';
$s{'SRS018817'} = 'stool';
$s{'SRS018969'} = 'tongue_dorsum';
$s{'SRS018971'} = 'buccal_mucosa';
$s{'SRS018975'} = 'supragingival_plaque';
$s{'SRS018978'} = 'right_retroauricular_crease';
$s{'SRS018981'} = 'anterior_nares';
$s{'SRS019015'} = 'left_retroauricular_crease';
$s{'SRS019016'} = 'right_retroauricular_crease';
$s{'SRS019019'} = 'anterior_nares';
$s{'SRS019022'} = 'tongue_dorsum';
$s{'SRS019024'} = 'buccal_mucosa';
$s{'SRS019025'} = 'attached_keratinized_gingiva';
$s{'SRS019026'} = 'palatine_tonsils';
$s{'SRS019027'} = 'throat';
$s{'SRS019028'} = 'supragingival_plaque';
$s{'SRS019029'} = 'subgingival_plaque';
$s{'SRS019030'} = 'stool';
$s{'SRS019033'} = 'right_retroauricular_crease';
$s{'SRS019039'} = 'anterior_nares';
$s{'SRS019045'} = 'tongue_dorsum';
$s{'SRS019063'} = 'left_retroauricular_crease';
$s{'SRS019064'} = 'right_retroauricular_crease';
$s{'SRS019067'} = 'anterior_nares';
$s{'SRS019071'} = 'tongue_dorsum';
$s{'SRS019073'} = 'buccal_mucosa';
$s{'SRS019077'} = 'supragingival_plaque';
$s{'SRS019081'} = 'right_retroauricular_crease';
$s{'SRS019087'} = 'anterior_nares';
$s{'SRS019116'} = 'right_retroauricular_crease';
$s{'SRS019119'} = 'anterior_nares';
$s{'SRS019120'} = 'saliva';
$s{'SRS019122'} = 'tongue_dorsum';
$s{'SRS019124'} = 'buccal_mucosa';
$s{'SRS019125'} = 'attached_keratinized_gingiva';
$s{'SRS019126'} = 'palatine_tonsils';
$s{'SRS019127'} = 'throat';
$s{'SRS019128'} = 'supragingival_plaque';
$s{'SRS019129'} = 'subgingival_plaque';
$s{'SRS019161'} = 'stool';
$s{'SRS019215'} = 'anterior_nares';
$s{'SRS019219'} = 'tongue_dorsum';
$s{'SRS019221'} = 'buccal_mucosa';
$s{'SRS019225'} = 'supragingival_plaque';
$s{'SRS019267'} = 'stool';
$s{'SRS019327'} = 'tongue_dorsum';
$s{'SRS019329'} = 'buccal_mucosa';
$s{'SRS019333'} = 'supragingival_plaque';
$s{'SRS019339'} = 'anterior_nares';
$s{'SRS019379'} = 'posterior_fornix';
$s{'SRS019386'} = 'anterior_nares';
$s{'SRS019387'} = 'supragingival_plaque';
$s{'SRS019389'} = 'tongue_dorsum';
$s{'SRS019391'} = 'buccal_mucosa';
$s{'SRS019397'} = 'stool';
$s{'SRS019582'} = 'stool';
$s{'SRS019587'} = 'buccal_mucosa';
$s{'SRS019591'} = 'supragingival_plaque';
$s{'SRS019597'} = 'anterior_nares';
$s{'SRS019600'} = 'posterior_fornix';
$s{'SRS019601'} = 'stool';
$s{'SRS019607'} = 'tongue_dorsum';
$s{'SRS019685'} = 'stool';
$s{'SRS019787'} = 'stool';
$s{'SRS019867'} = 'anterior_nares';
$s{'SRS019872'} = 'buccal_mucosa';
$s{'SRS019894'} = 'tongue_dorsum';
$s{'SRS019906'} = 'supragingival_plaque';
$s{'SRS019910'} = 'stool';
$s{'SRS019968'} = 'stool';
$s{'SRS019974'} = 'tongue_dorsum';
$s{'SRS019976'} = 'buccal_mucosa';
$s{'SRS019980'} = 'supragingival_plaque';
$s{'SRS019986'} = 'anterior_nares';
$s{'SRS019989'} = 'posterior_fornix';
$s{'SRS020220'} = 'tongue_dorsum';
$s{'SRS020226'} = 'supragingival_plaque';
$s{'SRS020232'} = 'anterior_nares';
$s{'SRS020233'} = 'stool';
$s{'SRS020261'} = 'left_retroauricular_crease';
$s{'SRS020263'} = 'right_retroauricular_crease';
$s{'SRS020328'} = 'stool';
$s{'SRS020334'} = 'tongue_dorsum';
$s{'SRS020336'} = 'buccal_mucosa';
$s{'SRS020340'} = 'supragingival_plaque';
$s{'SRS020349'} = 'posterior_fornix';
$s{'SRS020386'} = 'anterior_nares';
$s{'SRS020856'} = 'tongue_dorsum';
$s{'SRS020858'} = 'buccal_mucosa';
$s{'SRS020862'} = 'supragingival_plaque';
$s{'SRS020868'} = 'anterior_nares';
$s{'SRS020869'} = 'stool';
$s{'SRS021473'} = 'buccal_mucosa';
$s{'SRS021477'} = 'supragingival_plaque';
$s{'SRS021483'} = 'anterior_nares';
$s{'SRS021484'} = 'stool';
$s{'SRS021496'} = 'tongue_dorsum';
$s{'SRS021948'} = 'stool';
$s{'SRS021954'} = 'tongue_dorsum';
$s{'SRS021960'} = 'supragingival_plaque';
$s{'SRS021969'} = 'posterior_fornix';
$s{'SRS022006'} = 'anterior_nares';
$s{'SRS022071'} = 'stool';
$s{'SRS022077'} = 'tongue_dorsum';
$s{'SRS022079'} = 'buccal_mucosa';
$s{'SRS022083'} = 'supragingival_plaque';
$s{'SRS022092'} = 'posterior_fornix';
$s{'SRS022129'} = 'anterior_nares';
$s{'SRS022137'} = 'stool';
$s{'SRS022143'} = 'tongue_dorsum';
$s{'SRS022145'} = 'buccal_mucosa';
$s{'SRS022149'} = 'supragingival_plaque';
$s{'SRS022158'} = 'posterior_fornix';
$s{'SRS022530'} = 'tongue_dorsum';
$s{'SRS022532'} = 'buccal_mucosa';
$s{'SRS022536'} = 'supragingival_plaque';
$s{'SRS022609'} = 'stool';
$s{'SRS022621'} = 'tongue_dorsum';
$s{'SRS022625'} = 'buccal_mucosa';
$s{'SRS022645'} = 'anterior_nares';
$s{'SRS022719'} = 'tongue_dorsum';
$s{'SRS022721'} = 'buccal_mucosa';
$s{'SRS022725'} = 'supragingival_plaque';
$s{'SRS022734'} = 'posterior_fornix';
$s{'SRS023176'} = 'stool';
$s{'SRS023346'} = 'stool';
$s{'SRS023352'} = 'tongue_dorsum';
$s{'SRS023354'} = 'buccal_mucosa';
$s{'SRS023358'} = 'supragingival_plaque';
$s{'SRS023526'} = 'stool';
$s{'SRS023534'} = 'buccal_mucosa';
$s{'SRS023538'} = 'supragingival_plaque';
$s{'SRS023557'} = 'tongue_dorsum';
$s{'SRS023583'} = 'stool';
$s{'SRS023591'} = 'buccal_mucosa';
$s{'SRS023595'} = 'supragingival_plaque';
$s{'SRS023617'} = 'tongue_dorsum';
$s{'SRS023835'} = 'tongue_dorsum';
$s{'SRS023837'} = 'buccal_mucosa';
$s{'SRS023847'} = 'anterior_nares';
$s{'SRS023850'} = 'posterior_fornix';
$s{'SRS023914'} = 'stool';
$s{'SRS023926'} = 'tongue_dorsum';
$s{'SRS023938'} = 'supragingival_plaque';
$s{'SRS023958'} = 'tongue_dorsum';
$s{'SRS023964'} = 'supragingival_plaque';
$s{'SRS023970'} = 'anterior_nares';
$s{'SRS023971'} = 'stool';
$s{'SRS023987'} = 'buccal_mucosa';
$s{'SRS024009'} = 'stool';
$s{'SRS024015'} = 'tongue_dorsum';
$s{'SRS024017'} = 'buccal_mucosa';
$s{'SRS024021'} = 'supragingival_plaque';
$s{'SRS024064'} = 'anterior_nares';
$s{'SRS024068'} = 'posterior_fornix';
$s{'SRS024075'} = 'stool';
$s{'SRS024081'} = 'tongue_dorsum';
$s{'SRS024087'} = 'supragingival_plaque';
$s{'SRS024132'} = 'stool';
$s{'SRS024138'} = 'tongue_dorsum';
$s{'SRS024140'} = 'buccal_mucosa';
$s{'SRS024144'} = 'supragingival_plaque';
$s{'SRS024265'} = 'stool';
$s{'SRS024277'} = 'tongue_dorsum';
$s{'SRS024289'} = 'supragingival_plaque';
$s{'SRS024301'} = 'anterior_nares';
$s{'SRS024318'} = 'tongue_dorsum';
$s{'SRS024331'} = 'stool';
$s{'SRS024347'} = 'buccal_mucosa';
$s{'SRS024355'} = 'supragingival_plaque';
$s{'SRS024375'} = 'tongue_dorsum';
$s{'SRS024377'} = 'buccal_mucosa';
$s{'SRS024381'} = 'supragingival_plaque';
$s{'SRS024388'} = 'stool';
$s{'SRS024424'} = 'anterior_nares';
$s{'SRS024428'} = 'posterior_fornix';
$s{'SRS024435'} = 'stool';
$s{'SRS024441'} = 'tongue_dorsum';
$s{'SRS024447'} = 'supragingival_plaque';
$s{'SRS024470'} = 'buccal_mucosa';
$s{'SRS024482'} = 'left_retroauricular_crease';
$s{'SRS024549'} = 'stool';
$s{'SRS024557'} = 'buccal_mucosa';
$s{'SRS024561'} = 'supragingival_plaque';
$s{'SRS024567'} = 'anterior_nares';
$s{'SRS024580'} = 'tongue_dorsum';
$s{'SRS024596'} = 'left_retroauricular_crease';
$s{'SRS024598'} = 'right_retroauricular_crease';
$s{'SRS024620'} = 'left_retroauricular_crease';
$s{'SRS024625'} = 'stool';
$s{'SRS024637'} = 'tongue_dorsum';
$s{'SRS024649'} = 'supragingival_plaque';
$s{'SRS024655'} = 'right_retroauricular_crease';
$s{'SRS042131'} = 'tongue_dorsum';
$s{'SRS042284'} = 'stool';
$s{'SRS042428'} = 'posterior_fornix';
$s{'SRS042457'} = 'buccal_mucosa';
$s{'SRS042628'} = 'stool';
$s{'SRS042643'} = 'tongue_dorsum';
$s{'SRS042858'} = 'posterior_fornix';
$s{'SRS042910'} = 'tongue_dorsum';
$s{'SRS042984'} = 'supragingival_plaque';
$s{'SRS043001'} = 'stool';
$s{'SRS043018'} = 'supragingival_plaque';
$s{'SRS043411'} = 'stool';
$s{'SRS043646'} = 'buccal_mucosa';
$s{'SRS043663'} = 'tongue_dorsum';
$s{'SRS043676'} = 'buccal_mucosa';
$s{'SRS043701'} = 'stool';
$s{'SRS043755'} = 'supragingival_plaque';
$s{'SRS043772'} = 'supragingival_plaque';
$s{'SRS044373'} = 'tongue_dorsum';
$s{'SRS044474'} = 'anterior_nares';
$s{'SRS044486'} = 'tongue_dorsum';
$s{'SRS044626'} = 'anterior_nares';
$s{'SRS044662'} = 'tongue_dorsum';
$s{'SRS044742'} = 'posterior_fornix';
$s{'SRS045004'} = 'stool';
$s{'SRS045049'} = 'buccal_mucosa';
$s{'SRS045127'} = 'tongue_dorsum';
$s{'SRS045197'} = 'supragingival_plaque';
$s{'SRS045254'} = 'buccal_mucosa';
$s{'SRS045262'} = 'buccal_mucosa';
$s{'SRS045313'} = 'supragingival_plaque';
$s{'SRS045606'} = 'right_retroauricular_crease';
$s{'SRS045645'} = 'stool';
$s{'SRS045713'} = 'stool';
$s{'SRS045715'} = 'tongue_dorsum';
$s{'SRS045978'} = 'buccal_mucosa';
$s{'SRS046344'} = 'anterior_nares';
$s{'SRS046623'} = 'buccal_mucosa';
$s{'SRS046686'} = 'buccal_mucosa';
$s{'SRS046688'} = 'right_retroauricular_crease';
$s{'SRS047014'} = 'stool';
$s{'SRS047044'} = 'stool';
$s{'SRS047100'} = 'supragingival_plaque';
$s{'SRS047113'} = 'supragingival_plaque';
$s{'SRS047210'} = 'tongue_dorsum';
$s{'SRS047219'} = 'tongue_dorsum';
$s{'SRS047225'} = 'anterior_nares';
$s{'SRS047265'} = 'supragingival_plaque';
$s{'SRS047335'} = 'posterior_fornix';
$s{'SRS047634'} = 'supragingival_plaque';
$s{'SRS047824'} = 'tongue_dorsum';
$s{'SRS047844'} = 'anterior_nares';
$s{'SRS048164'} = 'stool';
$s{'SRS048411'} = 'tongue_dorsum';
$s{'SRS048719'} = 'buccal_mucosa';
$s{'SRS048791'} = 'tongue_dorsum';
$s{'SRS048870'} = 'stool';
$s{'SRS049147'} = 'tongue_dorsum';
$s{'SRS049237'} = 'posterior_fornix';
$s{'SRS049268'} = 'supragingival_plaque';
$s{'SRS049283'} = 'buccal_mucosa';
$s{'SRS049318'} = 'supragingival_plaque';
$s{'SRS049389'} = 'tongue_dorsum';
$s{'SRS049712'} = 'stool';
$s{'SRS049744'} = 'anterior_nares';
$s{'SRS049900'} = 'stool';
$s{'SRS049959'} = 'stool';
$s{'SRS049995'} = 'stool';
$s{'SRS050007'} = 'buccal_mucosa';
$s{'SRS050025'} = 'anterior_nares';
$s{'SRS050029'} = 'buccal_mucosa';
$s{'SRS050184'} = 'posterior_fornix';
$s{'SRS050244'} = 'tongue_dorsum';
$s{'SRS050299'} = 'stool';
$s{'SRS050422'} = 'stool';
$s{'SRS050484'} = 'anterior_nares';
$s{'SRS050628'} = 'buccal_mucosa';
$s{'SRS050669'} = 'tongue_dorsum';
$s{'SRS050752'} = 'stool';
$s{'SRS050925'} = 'stool';
$s{'SRS051031'} = 'stool';
$s{'SRS051116'} = 'buccal_mucosa';
$s{'SRS051244'} = 'supragingival_plaque';
$s{'SRS051378'} = 'supragingival_plaque';
$s{'SRS051505'} = 'posterior_fornix';
$s{'SRS051600'} = 'anterior_nares';
$s{'SRS051613'} = 'anterior_nares';
$s{'SRS051791'} = 'tongue_dorsum';
$s{'SRS051882'} = 'stool';
$s{'SRS051930'} = 'supragingival_plaque';
$s{'SRS051941'} = 'supragingival_plaque';
$s{'SRS052027'} = 'stool';
$s{'SRS052227'} = 'tongue_dorsum';
$s{'SRS052330'} = 'posterior_fornix';
$s{'SRS052590'} = 'anterior_nares';
$s{'SRS052604'} = 'supragingival_plaque';
$s{'SRS052620'} = 'posterior_fornix';
$s{'SRS052668'} = 'buccal_mucosa';
$s{'SRS052697'} = 'stool';
$s{'SRS052756'} = 'posterior_fornix';
$s{'SRS052874'} = 'buccal_mucosa';
$s{'SRS052876'} = 'supragingival_plaque';
$s{'SRS052988'} = 'right_retroauricular_crease';
$s{'SRS053335'} = 'stool';
$s{'SRS053398'} = 'stool';
$s{'SRS053437'} = 'anterior_nares';
$s{'SRS053584'} = 'supragingival_plaque';
$s{'SRS053603'} = 'tongue_dorsum';
$s{'SRS053854'} = 'tongue_dorsum';
$s{'SRS054061'} = 'anterior_nares';
$s{'SRS054430'} = 'supragingival_plaque';
$s{'SRS054569'} = 'buccal_mucosa';
$s{'SRS054590'} = 'stool';
$s{'SRS054653'} = 'supragingival_plaque';
$s{'SRS054687'} = 'tongue_dorsum';
$s{'SRS054776'} = 'buccal_mucosa';
$s{'SRS054956'} = 'stool';
$s{'SRS054962'} = 'posterior_fornix';
$s{'SRS055118'} = 'buccal_mucosa';
$s{'SRS055298'} = 'posterior_fornix';
$s{'SRS055378'} = 'supragingival_plaque';
$s{'SRS055401'} = 'supragingival_plaque';
$s{'SRS055426'} = 'tongue_dorsum';
$s{'SRS055450'} = 'supragingival_plaque';
$s{'SRS055982'} = 'stool';
$s{'SRS056210'} = 'anterior_nares';
$s{'SRS056259'} = 'stool';
$s{'SRS056323'} = 'tongue_dorsum';
$s{'SRS056519'} = 'stool';
$s{'SRS056622'} = 'tongue_dorsum';
$s{'SRS056695'} = 'posterior_fornix';
$s{'SRS056892'} = 'buccal_mucosa';
$s{'SRS057022'} = 'buccal_mucosa';
$s{'SRS057083'} = 'right_retroauricular_crease';
$s{'SRS057205'} = 'tongue_dorsum';
$s{'SRS057355'} = 'tongue_dorsum';
$s{'SRS057539'} = 'tongue_dorsum';
$s{'SRS057692'} = 'tongue_dorsum';
$s{'SRS057717'} = 'stool';
$s{'SRS057791'} = 'tongue_dorsum';
$s{'SRS057807'} = 'posterior_fornix';
$s{'SRS058053'} = 'supragingival_plaque';
$s{'SRS058105'} = 'buccal_mucosa';
$s{'SRS058182'} = 'right_retroauricular_crease';
$s{'SRS058213'} = 'anterior_nares';
$s{'SRS058221'} = 'right_retroauricular_crease';
$s{'SRS058336'} = 'tongue_dorsum';
$s{'SRS058723'} = 'stool';
$s{'SRS058770'} = 'stool';
$s{'SRS058808'} = 'supragingival_plaque';
$s{'SRS062427'} = 'stool';
$s{'SRS062520'} = 'posterior_fornix';
$s{'SRS062540'} = 'tongue_dorsum';
$s{'SRS062544'} = 'tongue_dorsum';
$s{'SRS062713'} = 'anterior_nares';
$s{'SRS062752'} = 'vaginal_introitus';
$s{'SRS062761'} = 'tongue_dorsum';
$s{'SRS063035'} = 'anterior_nares';
$s{'SRS063040'} = 'stool';
$s{'SRS063178'} = 'anterior_nares';
$s{'SRS063193'} = 'tongue_dorsum';
$s{'SRS063215'} = 'subgingival_plaque';
$s{'SRS063272'} = 'buccal_mucosa';
$s{'SRS063287'} = 'buccal_mucosa';
$s{'SRS063288'} = 'tongue_dorsum';
$s{'SRS063351'} = 'palatine_tonsils';
$s{'SRS063417'} = 'posterior_fornix';
$s{'SRS063478'} = 'buccal_mucosa';
$s{'SRS063603'} = 'supragingival_plaque';
$s{'SRS063932'} = 'tongue_dorsum';
$s{'SRS063985'} = 'stool';
$s{'SRS063999'} = 'supragingival_plaque';
$s{'SRS064276'} = 'stool';
$s{'SRS064376'} = 'posterior_fornix';
$s{'SRS064423'} = 'tongue_dorsum';
$s{'SRS064449'} = 'supragingival_plaque';
$s{'SRS064493'} = 'supragingival_plaque';
$s{'SRS064557'} = 'stool';
$s{'SRS064645'} = 'stool';
$s{'SRS064704'} = 'posterior_fornix';
$s{'SRS064774'} = 'tongue_dorsum';
$s{'SRS064809'} = 'buccal_mucosa';
$s{'SRS065099'} = 'supragingival_plaque';
$s{'SRS065133'} = 'buccal_mucosa';
$s{'SRS065142'} = 'anterior_nares';
$s{'SRS065179'} = 'anterior_nares';
$s{'SRS065278'} = 'tongue_dorsum';
$s{'SRS065310'} = 'supragingival_plaque';
$s{'SRS065335'} = 'throat';
$s{'SRS065347'} = 'posterior_fornix';
$s{'SRS065431'} = 'buccal_mucosa';
$s{'SRS065504'} = 'stool';
$s{'SRS075406'} = 'buccal_mucosa';
$s{'SRS075410'} = 'supragingival_plaque';
$s{'SRS077730'} = 'stool';
$s{'SRS077736'} = 'tongue_dorsum';
$s{'SRS077738'} = 'buccal_mucosa';
$s{'SRS077751'} = 'posterior_fornix';
$s{'SRS078176'} = 'stool';
}

sub load_script {
$script = <<EOT

mkdir xxxxxxxxxx
echo "Downloading sample data"
echo "-----------------------"
wget -v --progress=bar -O xxxxxxxxxx/xxxxxxxxxx.tar.bz2 http://downloads.hmpdacc.org/data/Illumina/yyyyyyyyyy/xxxxxxxxxx.tar.bz2
tar -xjvf xxxxxxxxxx/xxxxxxxxxx.tar.bz2

echo
echo "Converting fastq to fasta"
echo "-------------------------"
egrep -A1 -e "^@.+/[12]\$" xxxxxxxxxx/xxxxxxxxxx.denovo_duplicates_marked.trimmed.1.fastq | tr "@" ">" | grep -v "^--" > xxxxxxxxxx/ilmn.1.fasta
egrep -A1 -e "^@.+/[12]\$" xxxxxxxxxx/xxxxxxxxxx.denovo_duplicates_marked.trimmed.2.fastq | tr "@" ">" | grep -v "^--" > xxxxxxxxxx/ilmn.2.fasta
egrep -A1 -e "^@.+/[1]\$" xxxxxxxxxx/xxxxxxxxxx.denovo_duplicates_marked.trimmed.singleton.fastq | tr "@" ">" | grep -v "^--" >> xxxxxxxxxx/ilmn.1.fasta
egrep -A1 -e "^@.+/[2]\$" xxxxxxxxxx/xxxxxxxxxx.denovo_duplicates_marked.trimmed.singleton.fastq | tr "@" ">" | grep -v "^--" >> xxxxxxxxxx/ilmn.2.fasta

rm xxxxxxxxxx/*.fastq
 
echo
echo "Running hmmsearch"
echo "-----------------"
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.1.fwd.bact.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_bact_for3.hmm xxxxxxxxxx/ilmn.1.fasta
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.1.rev.bact.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_bact_rev3.hmm xxxxxxxxxx/ilmn.1.fasta
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.1.fwd.arch.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_arch_for3.hmm xxxxxxxxxx/ilmn.1.fasta 
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.1.rev.arch.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_arch_rev3.hmm xxxxxxxxxx/ilmn.1.fasta 
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.2.fwd.bact.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_bact_for3.hmm xxxxxxxxxx/ilmn.2.fasta
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.2.rev.bact.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_bact_rev3.hmm xxxxxxxxxx/ilmn.2.fasta
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.2.fwd.arch.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_arch_for3.hmm xxxxxxxxxx/ilmn.2.fasta 
hmmsearch -E 0.00001 --domtblout xxxxxxxxxx/ilmn.2.rev.arch.ribosomal.table --noali --cpu 2 -o /dev/null hmms/16s_arch_rev3.hmm xxxxxxxxxx/ilmn.2.fasta 

echo
echo "Running riboTrap"
echo "----------------"
riboTrap.pl xxxxxxxxxx/ilmn

echo
echo "Running RDPclassifier"
echo "---------------------"
java -Xmx1g -jar classifier.jar -q xxxxxxxxxx/ilmn.16S.fasta -o xxxxxxxxxx/ilmn.16S.rdp

echo
echo "Running riboMap on all hypervariable regions"
echo "--------------------------------------------"
riboMap.pl file=xxxxxxxxxx/ilmn.16S.rdp var=full conf=0.8 cross=over percmin=1 covplot=1 abuplot=1 out=xxxxxxxxxx/ilmn_full_count

EOT
;
}
